{"title":"Assignment 1: Reliability and tools for reproducible data science","markdown":{"yaml":{"output":"html_document","editor_options":{"chunk_output_type":"console","bibliography":"bibliography.bib"}},"headingText":"Assignment 1: Reliability and tools for reproducible data science","headingAttr":{"id":"assignment1","classes":[],"keyvalue":[]},"containsRefs":false,"markdown":"\n\n\nThe purpose of this assignment is to present estimates of reliability of measures collected in the physiology lab at Inland Norway University of Applied Sciences. The data is gathered from multiple VO2max tests, where 16 participants performed two till four tests in the time span of 3 weeks. The first two tests were performed within 24 hours of each other during the first week. The last two tests were performed within 48 hours of each other during the third week. We have used Rstudio to analyze the data and to estimate if the performed tests were reliable.\n\n## Method\n\n### Standardization pre-test\n\nSame workout regime two days before test day.\n\nFood intake and hydration + caffeine - last two meals should be the same\n\nsleep - same sleeping schedule\n\nsame test time for each test\n\n[@halperin2015].\n\n### Protocol\n\n\n\n\n\n\n\n\n\n```{r}\n#| echo: false\n#| warning: false\n\nlibrary(readxl)\nlibrary(dplyr)\n\nvars <- c(\"id\", \"timepoint\", \"temperature\", \"humidity\", \n          \"sex\", \"age\", \"height\", \"weight\", \"w.max\", \n          \"vo2.max\", \"vco2.max\", \"rer.max\", \"ve.max\", \n          \"bf.max\", \"hr.max\", \"la.max\", \n          \"borg.max\")\n\n\ndat <- bind_rows(\nread_excel(\"g1.xlsx\", sheet = \"data_excel\", na = \"na\") %>%\n  select(all_of(vars)) %>%\n  mutate(group = \"G1\", \n         id = paste0(group, \"_\", id)) ,\n\nread_excel(\"g2.xlsx\", na = \"na\") %>%\n   select(all_of(vars)) %>%\n  mutate(group = \"G2\", \n         id = paste0(group, \"_\", id)) ,\n\nread_excel(\"g3.xlsx\") %>%\n   select(all_of(vars)) %>%\n  mutate(timepoint = paste0(\"t\", timepoint), \n         group = \"G3\", \n         id = paste0(group, \"_\", id)) ,\n\nread_excel(\"g4.xlsx\") %>%\n   select(all_of(vars)) %>%\n  mutate(group = \"G4\", \n         id = paste0(group, \"_\", id)) )\n  \n\n\n```\n\n## Results\n\n### Figur 1\n\n```{r}\n#| echo: false\n#| warning: false\n\nlibrary(ggplot2)\n  ggplot(data = dat, aes(x = id , y = vo2.max, color = timepoint)) + geom_point() + geom_smooth() +\n    labs(x = \"participant\",\n         y = \"VO2.max (ml/min)\",\n         title = \"VO2.max per participant per test\",\n         color = \"timepoint\") +\n     scale_x_discrete(guide = guide_axis(n.dodge=3))\n  \n\n \n```\n\nFigur 1 viser det absolutte maksimale oksygenopptaket til hver enkelt deltaker, sammenlignet med alle testene som ble gjennomført til alle deltakerne.\n\n### Tabell 1\n\n```{r}\n#| echo: false\n#| warning: false\n#| \n\nlibrary(tidyverse)\nlibrary(gt)\n\n\ndat %>%\n  select(id, timepoint, vo2.max) %>%\n  pivot_wider(names_from = timepoint,\n              values_from = vo2.max) %>%\n  gt()\n\n```\n\nTabell 1 viser det samme som \"Figur 1\", men her kan man lettere se hvor mange tester hver enkelt deltaker har gjennomført og hvilket resultat som hører til hvilken test.\n\n### Tabellen eg skal bruke \n```{r}\n\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(gt)\n\n# Reshape data and calculate differences between timepoints\ndat_wide <- dat %>%\n  select(id, timepoint, vo2.max) %>%\n  pivot_wider(names_from = timepoint, values_from = vo2.max) %>%\n  mutate(Diff_T2_T1 = `t2` - `t1`,\n         Diff_T4_T3 = `t4` - `t3`) \n\n# Create summary table with n for each timepoint\nn_summary <- dat %>%\n  group_by(timepoint) %>%\n  summarise(n = n())\n\n# Generate table with gt\ndat_wide %>%\n  gt() %>%\n  tab_header(\n    title = \"VO2max per Participant per Timepoint\"\n  ) %>%\n  cols_label(\n    id = \"Participant ID\",\n    `t1` = \"Test 1\",\n    `t2` = \"Test 2\",\n    `t3` = \"Test 3\",\n    `t4` = \"Test 4\",\n    Diff_T2_T1 = \"Difference (T2 - T1)\",\n    Diff_T4_T3 = \"Difference (T4 - T3)\"\n  ) %>%\n  fmt_number(\n    columns = everything(),\n    decimals = 2\n  ) %>%\n  tab_footnote(\n    footnote = paste(\"Sample sizes: t1 = \", n_summary$n[1], \n                     \", t2 = \", n_summary$n[2], \n                     \", t3 = \", n_summary$n[3], \n                     \", t4 = \", n_summary$n[4])\n  )\n\n```\n\n\n### Beregning av standardfeil mellom test 1 og test 2\n\n```{r}\n#| echo: false\n\ncv1 <- dat %>%\n  select(id, timepoint, vo2.max) %>%\n  pivot_wider(names_from = timepoint, \n              values_from = vo2.max) %>%\n  \n  mutate(diff = t2 - t1) %>% \n  summarise(mean = mean(c(t1, t2), na.rm = TRUE), \n            sd = sd(diff, na.rm = TRUE),  \n            te = sd / sqrt(2), \n            cv = 100 * (te/mean)) \n\n\ncv1 %>% gt() %>%\n   fmt_number(decimals = 1) \n\ncv_percent1 <- round(cv1$cv,2) \n\n\n```\n\n### Beregning av standardfeil mellom test 3 og test 4\n\n```{r}\n#| echo: false\n\ncv2 <- dat %>%\n  select(id, timepoint, vo2.max) %>%\n  pivot_wider(names_from = timepoint, \n              values_from = vo2.max) %>%\n  \n  mutate(diff = t3 - t4) %>% \n  summarise(mean = mean(c(t1, t2), na.rm = TRUE), \n            sd = sd(diff, na.rm = TRUE),  \n            te = sd / sqrt(2), \n            cv = 100 * (te/mean)) \n  \ncv2 %>% gt() %>% \n  fmt_number(decimals = 1) \n\n\ncv_percent2 <- round(cv2$cv,1)\n\n```\n\nWe calculated that the\n\nVi kalkulerte at variasjonskoeffisienten (CV) for test 1 og test 2 ble `r cv_percent1`%. I følge Dr. Will G. Hopkins indikerer en variasjonskoeffisient (CV) på under 5% god reliabilitet [@hopkins2000a]. Det vil si at resultatene for test 1 og test 2 har relativt lav variabilitet og bør betraktes som reliable. For test 3 og test 4 kalkulerte vi at variasjonskoeffisienten (CV) ble `r cv_percent2`%. Det vil si at også resultatene for test 3 og test 4 kan betraktes som reliable, men har mer variabilitet enn resultatene fra test 1 og test 2 da variasjonskoeffisienten er noe høyere.\n\n## Discussion\n\n### Deviance (avvik?)\n\n## Conclusion\n","srcMarkdownNoYaml":"\n\n# Assignment 1: Reliability and tools for reproducible data science {#assignment1}\n\nThe purpose of this assignment is to present estimates of reliability of measures collected in the physiology lab at Inland Norway University of Applied Sciences. The data is gathered from multiple VO2max tests, where 16 participants performed two till four tests in the time span of 3 weeks. The first two tests were performed within 24 hours of each other during the first week. The last two tests were performed within 48 hours of each other during the third week. We have used Rstudio to analyze the data and to estimate if the performed tests were reliable.\n\n## Method\n\n### Standardization pre-test\n\nSame workout regime two days before test day.\n\nFood intake and hydration + caffeine - last two meals should be the same\n\nsleep - same sleeping schedule\n\nsame test time for each test\n\n[@halperin2015].\n\n### Protocol\n\n\n\n\n\n\n\n\n\n```{r}\n#| echo: false\n#| warning: false\n\nlibrary(readxl)\nlibrary(dplyr)\n\nvars <- c(\"id\", \"timepoint\", \"temperature\", \"humidity\", \n          \"sex\", \"age\", \"height\", \"weight\", \"w.max\", \n          \"vo2.max\", \"vco2.max\", \"rer.max\", \"ve.max\", \n          \"bf.max\", \"hr.max\", \"la.max\", \n          \"borg.max\")\n\n\ndat <- bind_rows(\nread_excel(\"g1.xlsx\", sheet = \"data_excel\", na = \"na\") %>%\n  select(all_of(vars)) %>%\n  mutate(group = \"G1\", \n         id = paste0(group, \"_\", id)) ,\n\nread_excel(\"g2.xlsx\", na = \"na\") %>%\n   select(all_of(vars)) %>%\n  mutate(group = \"G2\", \n         id = paste0(group, \"_\", id)) ,\n\nread_excel(\"g3.xlsx\") %>%\n   select(all_of(vars)) %>%\n  mutate(timepoint = paste0(\"t\", timepoint), \n         group = \"G3\", \n         id = paste0(group, \"_\", id)) ,\n\nread_excel(\"g4.xlsx\") %>%\n   select(all_of(vars)) %>%\n  mutate(group = \"G4\", \n         id = paste0(group, \"_\", id)) )\n  \n\n\n```\n\n## Results\n\n### Figur 1\n\n```{r}\n#| echo: false\n#| warning: false\n\nlibrary(ggplot2)\n  ggplot(data = dat, aes(x = id , y = vo2.max, color = timepoint)) + geom_point() + geom_smooth() +\n    labs(x = \"participant\",\n         y = \"VO2.max (ml/min)\",\n         title = \"VO2.max per participant per test\",\n         color = \"timepoint\") +\n     scale_x_discrete(guide = guide_axis(n.dodge=3))\n  \n\n \n```\n\nFigur 1 viser det absolutte maksimale oksygenopptaket til hver enkelt deltaker, sammenlignet med alle testene som ble gjennomført til alle deltakerne.\n\n### Tabell 1\n\n```{r}\n#| echo: false\n#| warning: false\n#| \n\nlibrary(tidyverse)\nlibrary(gt)\n\n\ndat %>%\n  select(id, timepoint, vo2.max) %>%\n  pivot_wider(names_from = timepoint,\n              values_from = vo2.max) %>%\n  gt()\n\n```\n\nTabell 1 viser det samme som \"Figur 1\", men her kan man lettere se hvor mange tester hver enkelt deltaker har gjennomført og hvilket resultat som hører til hvilken test.\n\n### Tabellen eg skal bruke \n```{r}\n\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(gt)\n\n# Reshape data and calculate differences between timepoints\ndat_wide <- dat %>%\n  select(id, timepoint, vo2.max) %>%\n  pivot_wider(names_from = timepoint, values_from = vo2.max) %>%\n  mutate(Diff_T2_T1 = `t2` - `t1`,\n         Diff_T4_T3 = `t4` - `t3`) \n\n# Create summary table with n for each timepoint\nn_summary <- dat %>%\n  group_by(timepoint) %>%\n  summarise(n = n())\n\n# Generate table with gt\ndat_wide %>%\n  gt() %>%\n  tab_header(\n    title = \"VO2max per Participant per Timepoint\"\n  ) %>%\n  cols_label(\n    id = \"Participant ID\",\n    `t1` = \"Test 1\",\n    `t2` = \"Test 2\",\n    `t3` = \"Test 3\",\n    `t4` = \"Test 4\",\n    Diff_T2_T1 = \"Difference (T2 - T1)\",\n    Diff_T4_T3 = \"Difference (T4 - T3)\"\n  ) %>%\n  fmt_number(\n    columns = everything(),\n    decimals = 2\n  ) %>%\n  tab_footnote(\n    footnote = paste(\"Sample sizes: t1 = \", n_summary$n[1], \n                     \", t2 = \", n_summary$n[2], \n                     \", t3 = \", n_summary$n[3], \n                     \", t4 = \", n_summary$n[4])\n  )\n\n```\n\n\n### Beregning av standardfeil mellom test 1 og test 2\n\n```{r}\n#| echo: false\n\ncv1 <- dat %>%\n  select(id, timepoint, vo2.max) %>%\n  pivot_wider(names_from = timepoint, \n              values_from = vo2.max) %>%\n  \n  mutate(diff = t2 - t1) %>% \n  summarise(mean = mean(c(t1, t2), na.rm = TRUE), \n            sd = sd(diff, na.rm = TRUE),  \n            te = sd / sqrt(2), \n            cv = 100 * (te/mean)) \n\n\ncv1 %>% gt() %>%\n   fmt_number(decimals = 1) \n\ncv_percent1 <- round(cv1$cv,2) \n\n\n```\n\n### Beregning av standardfeil mellom test 3 og test 4\n\n```{r}\n#| echo: false\n\ncv2 <- dat %>%\n  select(id, timepoint, vo2.max) %>%\n  pivot_wider(names_from = timepoint, \n              values_from = vo2.max) %>%\n  \n  mutate(diff = t3 - t4) %>% \n  summarise(mean = mean(c(t1, t2), na.rm = TRUE), \n            sd = sd(diff, na.rm = TRUE),  \n            te = sd / sqrt(2), \n            cv = 100 * (te/mean)) \n  \ncv2 %>% gt() %>% \n  fmt_number(decimals = 1) \n\n\ncv_percent2 <- round(cv2$cv,1)\n\n```\n\nWe calculated that the\n\nVi kalkulerte at variasjonskoeffisienten (CV) for test 1 og test 2 ble `r cv_percent1`%. I følge Dr. Will G. Hopkins indikerer en variasjonskoeffisient (CV) på under 5% god reliabilitet [@hopkins2000a]. Det vil si at resultatene for test 1 og test 2 har relativt lav variabilitet og bør betraktes som reliable. For test 3 og test 4 kalkulerte vi at variasjonskoeffisienten (CV) ble `r cv_percent2`%. Det vil si at også resultatene for test 3 og test 4 kan betraktes som reliable, men har mer variabilitet enn resultatene fra test 1 og test 2 da variasjonskoeffisienten er noe høyere.\n\n## Discussion\n\n### Deviance (avvik?)\n\n## Conclusion\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":"html_document","warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"01-reliability-tools.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.56","bibliography":["resources/bib-final.bib"],"editor_options":{"chunk_output_type":"console","bibliography":"bibliography.bib"}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}